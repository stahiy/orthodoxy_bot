# Быстрая инструкция по деплою на хостинг

## Шаги деплоя

### 1. Загрузка файлов
Загрузите все файлы проекта на хостинг через FTP/SFTP или файловый менеджер.

### 2. Установка зависимостей
```bash
cd /путь/к/проекту
composer install --no-dev --optimize-autoloader
```

### 3. Настройка прав доступа
```bash
chmod 755 storage/
chmod 644 storage/subscribers.json
```

### 4. Проверка PHP версии
В панели хостинга выберите PHP 8.2+ (рекомендуется 8.4).

### 5. Установка Webhook
Откройте в браузере:
```
https://ваш-домен.ru/set_webhook.php
```

Или через командную строку:
```bash
php set_webhook.php
```

### 6. Настройка Cron
В панели хостинга создайте cron-задачу:
- **Команда**: `/usr/bin/php /полный/путь/к/проекту/cron.php`
- **Расписание**: `0 9 * * *` (каждый день в 9:00)
- **Логирование**: `>> /полный/путь/к/проекту/cron.log 2>&1`

### 7. Проверка работы
1. Отправьте боту `/start` в Telegram
2. Проверьте webhook: `curl "https://api.telegram.org/botYOUR_TOKEN/getWebhookInfo"`

## Важно

- ✅ Требуется SSL-сертификат (HTTPS) для webhook
- ✅ После установки webhook можно удалить `set_webhook.php`
- ✅ Файл `config.php` защищен через `.htaccess`
- ✅ Папка `storage/` защищена от прямого доступа

## Структура файлов

- `webhook.php` - основной endpoint для Telegram
- `set_webhook.php` - установка webhook (можно удалить после использования)
- `cron.php` - ежедневная рассылка
- `bot.php` - для локального тестирования (polling)

Подробная документация в `README.md`.

